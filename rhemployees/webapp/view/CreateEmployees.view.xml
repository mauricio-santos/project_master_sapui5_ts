<mvc:View xmlns:tnt="sap.tnt" controllerName="de.santos.rhemployees.controller.CreateEmployees"
	xmlns:mvc="sap.ui.core.mvc"
	xmlns="sap.m"
    xmlns:upload="sap.m.upload"
>
    <Page id="idCreateEmployeesPage" title="{i18n>createEmployees}" titleAlignment="Center">
        <Wizard id="idWizard" class="sapUiResponsivePadding--header sapUiResponsivePadding--content"
            finishButtonText="{i18n>review}"
        >
            <WizardStep id="idTypeEmployeeWizardStep" title="{i18n>employeeType}" validated="false">
                <MessageStrip id="idSelectTheEmployeeTypeToFillInTheDataMessageStrip" 
                    class="sapUiSmallMarginBottom" 
                    text="{i18n>messageStripType}" 
                    showIcon="true"
                />

                <HBox id="idHBox" alignItems="Center" justifyContent="Center" wrap="Wrap">
                    <Button id="idInternalButton" class="sapUiMediumMarginBegin" 
                        width="100px"
                        text="{i18n>internal}"
                        press="onTypeEmployeeButtonPress"
                    />

                    <Button id="idAutonomousButton" class="sapUiMediumMarginBegin" 
                        width="100px"
                        text="{i18n>autonomous}"
                        press="onTypeEmployeeButtonPress"
                    />

                    <Button id="idManagerButton" class="sapUiMediumMarginBegin" 
                        width="100px"
                        text="{i18n>manager}"
                        press="onTypeEmployeeButtonPress"
                    />
                </HBox>
            </WizardStep>

            <WizardStep id="idEmployeeDataWizardStep" 
                title="{i18n>employeeData}" 
                validated="{= 
                        (${employeeModel>/FirstName} !== '' &amp;&amp; 
                        ${employeeModel>/LastName} !== '' &amp;&amp; 
                        ${employeeModel>/IncorporationDate} !== null) &amp;&amp;
                        (${employeeModel>/DNIVerify} !== '' ||
                        ${employeeModel>/CIFVerify} !== '')
                    }"
            >
                <MessageStrip id="idCompleteTheRequiredDataToContinueMessageStrip"
                    class="sapUiSmallMarginBottom" 
                    text="{i18n>messageRequiredData}" 
                    showIcon="true"
                />
                
                <VBox id="idEmployeeVBox" class="sapUiSmallMargin">
                    <Panel id="idEmployeePanel"/>
                </VBox>

            </WizardStep>

            <WizardStep id="idWizardStep" title="{i18n>additionalInfo}" activate="searchFiles">
                <MessageStrip id="idIfNecessaryAddComplementaryInformationToFinishPressTheReviewButtonMessageStrip"
                    class="sapUiSmallMarginBottom" 
                    text="{i18n>messageAddInfos}" 
                    showIcon="true" 
                />

                <Label id="idCommentLabel" text="{i18n>comment}"/>
                <TextArea id="idCommentTextArea" 
                    width="100%" 
                    maxLength="200" 
                    value="{employee>/Comment}"
                />

                <upload:UploadSet id="idUploadSet"
                    uploadUrl="/sap/opu/odata/sap/ZEMPLOYEES_SRV/Attachments"
                    beforeUploadStarts="onUploadSetBeforeUploadStarts"
                    uploadCompleted="onUploadSetUploadCompleted"
                    afterItemRemoved="onUploadSetAfterItemRemoved"
                    beforeItemAdded="onUploadSetBeforeItemAdded"
                    mode="None"
                >
                    <upload:toolbar>
                        <OverflowToolbar id="idUploadOverflowToolbar">
                            <Label id="idAnnexLabel" text="{i18n>attachments} ({employeeModel>/Attachments})"/>
                            <ToolbarSpacer id="idUploadToolbarSpacer"/>
                        </OverflowToolbar>
                    </upload:toolbar>

                </upload:UploadSet>
            </WizardStep>
        </Wizard>

        <footer>
            <OverflowToolbar id="idOverflowToolbar">
                <ToolbarSpacer id="idToolbarSpacer"/>
                <Button id="idCancelButton" text="{i18n>cancel}" type="Reject" press="onCancelButtonPress"/>
            </OverflowToolbar>
        </footer>
    </Page>
</mvc:View>